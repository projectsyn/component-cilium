apiVersion: cilium.io/v1alpha1
kind: CiliumConfig
metadata:
  name: cilium
  namespace: cilium
spec:
  bpf:
    masquerade: false
  cni:
    binPath: /var/lib/cni/bin
    confPath: /var/run/multus/cni/net.d
  egressGateway:
    enabled: false
  endpointRoutes:
    enabled: true
  externalIPs:
    enabled: true
  hostPort:
    enabled: true
  hubble:
    tls:
      enabled: false
  ipam:
    mode: cluster-pool
    operator:
      clusterPoolIPv4MaskSize: '23'
      clusterPoolIPv4PodCIDR: 10.128.0.0/14
  kubeProxyReplacement: partial
  l7Proxy: true
  nodePort:
    directRoutingDevice: ens+
    enabled: true
  operator:
    prometheus:
      enabled: false
      serviceMonitor:
        enabled: true
    resources:
      limits:
        cpu: 100m
        memory: 250Mi
      requests:
        cpu: 100m
        memory: 250Mi
  prometheus:
    enabled: true
    serviceMonitor:
      enabled: true
  sessionAffinity: true
  socketLB:
    enabled: true
